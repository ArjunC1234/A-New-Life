[gd_scene load_steps=41 format=3 uid="uid://dbwqtyex2dwx7"]

[ext_resource type="Script" path="res://character_body_2d.gd" id="1_2p0s6"]
[ext_resource type="Texture2D" uid="uid://cvxp7t5i3gbqr" path="res://assets2/player/stone_player_attack (1).png" id="2_hjmt1"]
[ext_resource type="Texture2D" uid="uid://d4mjet4kmgkjy" path="res://assets2/player/stone_player_jump__v2 (5).png" id="2_x5f8r"]
[ext_resource type="Texture2D" uid="uid://dccjn56vykeo1" path="res://assets2/player/stone_player_idle (1).png" id="3_3ogii"]
[ext_resource type="Texture2D" uid="uid://k8465bki1a33" path="res://assets2/player/stone_player_run.png" id="4_h6ia6"]
[ext_resource type="Texture2D" uid="uid://gr1uwdbnc4ri" path="res://assets2/player/stone_player_walljump.png" id="5_5gvt3"]
[ext_resource type="Script" path="res://CollisionShape2D.gd" id="7_duvji"]
[ext_resource type="Script" path="res://BaseAttackBox.gd" id="8_qa2mh"]

[sub_resource type="AtlasTexture" id="AtlasTexture_rvxbf"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 0, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0m6y"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 768, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_cebgt"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 1536, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_jd7sc"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 2304, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_756gl"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 3072, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_pwdu4"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 3840, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_rjuaw"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 4608, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_o3b3g"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 5376, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_favsk"]
atlas = ExtResource("2_hjmt1")
region = Rect2(0, 6144, 1152, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_fs2jc"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 3840, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_ofn04"]
atlas = ExtResource("3_3ogii")
region = Rect2(0, 0, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_0035a"]
atlas = ExtResource("3_3ogii")
region = Rect2(0, 768, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_4nhrs"]
atlas = ExtResource("3_3ogii")
region = Rect2(0, 1536, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_cf4rh"]
atlas = ExtResource("3_3ogii")
region = Rect2(0, 2304, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_mcj5c"]
atlas = ExtResource("3_3ogii")
region = Rect2(0, 3072, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_i42so"]
atlas = ExtResource("3_3ogii")
region = Rect2(0, 3840, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_nyjva"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 1536, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_bquwx"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 2304, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_mf1g8"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 3072, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_qdhuk"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 4608, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_ni1i4"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 5376, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_2fhbp"]
atlas = ExtResource("2_x5f8r")
region = Rect2(0, 6144, 768, 768)

[sub_resource type="AtlasTexture" id="AtlasTexture_kj6ra"]
atlas = ExtResource("4_h6ia6")
region = Rect2(0, 1584, 408, 792)

[sub_resource type="AtlasTexture" id="AtlasTexture_5wnmo"]
atlas = ExtResource("4_h6ia6")
region = Rect2(0, 2376, 408, 792)

[sub_resource type="AtlasTexture" id="AtlasTexture_qvmty"]
atlas = ExtResource("4_h6ia6")
region = Rect2(0, 3168, 408, 792)

[sub_resource type="AtlasTexture" id="AtlasTexture_x0b40"]
atlas = ExtResource("4_h6ia6")
region = Rect2(0, 3960, 408, 792)

[sub_resource type="AtlasTexture" id="AtlasTexture_7wk1g"]
atlas = ExtResource("4_h6ia6")
region = Rect2(0, 4752, 408, 792)

[sub_resource type="AtlasTexture" id="AtlasTexture_l67y4"]
atlas = ExtResource("4_h6ia6")
region = Rect2(0, 5544, 408, 792)

[sub_resource type="AtlasTexture" id="AtlasTexture_8snxb"]
atlas = ExtResource("5_5gvt3")
region = Rect2(0, 768, 768, 768)

[sub_resource type="SpriteFrames" id="SpriteFrames_yruky"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rvxbf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0m6y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cebgt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jd7sc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_756gl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pwdu4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rjuaw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o3b3g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_favsk")
}],
"loop": false,
"name": &"attack",
"speed": 30.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fs2jc")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ofn04")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0035a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4nhrs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cf4rh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mcj5c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i42so")
}],
"loop": true,
"name": &"idle",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nyjva")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bquwx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mf1g8")
}],
"loop": false,
"name": &"jump",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qdhuk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ni1i4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2fhbp")
}],
"loop": false,
"name": &"land",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kj6ra")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5wnmo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qvmty")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x0b40")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7wk1g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l67y4")
}],
"loop": true,
"name": &"run",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8snxb")
}],
"loop": true,
"name": &"wallSlide",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_xnqmr"]
radius = 4.5
height = 22.5

[sub_resource type="RectangleShape2D" id="RectangleShape2D_spnfm"]
size = Vector2(417, 766.667)

[node name="CharacterBody2D" type="CharacterBody2D"]
top_level = true
scale = Vector2(4, 4)
collision_layer = 30
collision_mask = 29
floor_constant_speed = true
floor_max_angle = 1.39626
floor_snap_length = 10.0
script = ExtResource("1_2p0s6")
damage = 2
metadata/charms = {
"red": false
}

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
scale = Vector2(0.03, 0.03)
sprite_frames = SubResource("SpriteFrames_yruky")
animation = &"attack"
frame = 8
frame_progress = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_xnqmr")
debug_color = Color(0, 0.6, 0.701961, 0.419608)
script = ExtResource("7_duvji")

[node name="JumpSustainTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="dashingTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="wallJumpTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="AttackTimer" type="Timer" parent="."]
wait_time = 0.8
one_shot = true

[node name="unfreeze" type="Timer" parent="."]
wait_time = 0.2

[node name="BaseAttackBox" type="Area2D" parent="."]
position = Vector2(11, 0)
scale = Vector2(0.03, 0.03)
collision_layer = 2
collision_mask = 2
script = ExtResource("8_qa2mh")

[node name="CollisionShape2D" type="CollisionShape2D" parent="BaseAttackBox"]
scale = Vector2(0.999999, 0.999999)
shape = SubResource("RectangleShape2D_spnfm")

[connection signal="attack" from="." to="BaseAttackBox" method="_on_character_body_2d_attack"]
[connection signal="attackFlip" from="." to="BaseAttackBox" method="_on_character_body_2d_attack_flip"]
[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
[connection signal="timeout" from="JumpSustainTimer" to="." method="_on_jump_sustain_timer_timeout"]
[connection signal="timeout" from="dashingTimer" to="." method="_on_dash_timer_timeout"]
[connection signal="timeout" from="wallJumpTimer" to="." method="_on_wall_jump_timer_timeout"]
[connection signal="timeout" from="unfreeze" to="." method="_on_unfreeze_timeout"]
[connection signal="body_entered" from="BaseAttackBox" to="BaseAttackBox" method="_on_body_entered"]
[connection signal="body_exited" from="BaseAttackBox" to="BaseAttackBox" method="_on_body_exited"]
